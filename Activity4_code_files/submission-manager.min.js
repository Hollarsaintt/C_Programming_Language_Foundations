function addScript(s){$("head").append('<script type="text/javascript">'+s+"</script>")}angular.module("submission-manager",["jm.i18next"]),angular.module("submission-manager").directive("animation",function(){"use strict";return{restrict:"EA",scope:{idtest:"=",commands:"="},link:function(s,n,e){var i=[];i[s.idtest]=!1;try{s.commands=$.parseJSON(s.commands)}catch(t){console.error("can't parse "+s.commands)}var r="#anim"+s.idtest;s.$on("clickOnTest",function(n,e){e[0]!=s.idtest||i[s.idtest]||(i[s.idtest]=!0,"undefined"!=typeof taskSettings&&"undefined"!=typeof taskSettings.animationFeatures&&(fioiVideoPlayers.hasOwnProperty("successPlayer")&&fioiVideoPlayers.successPlayer.isPlaying?simulationToVideo(fioiVideoPlayers.successPlayer,0,r,taskSettings.animationFeatures(r),s.commands):fioiVideoPlayers.hasOwnProperty("failurePlayer")&&fioiVideoPlayers.failurePlayer.isPlaying?simulationToVideo(fioiVideoPlayers.failurePlayer,0,r,taskSettings.animationFeatures(r),s.commands):(simulationInstance(r,taskSettings.animationFeatures(r),s.commands),$(".restart").trigger("click"))))})},templateUrl:"submission-manager/anim.html"}}),angular.module("submission-manager").controller("submissionController",["$scope","$sce","$rootScope","$i18next","$sanitize","$interpolate",function(s,n,e,i,t,r){function o(s){if(!s)return"";resSol="",resExp="",s.excerptRow>1&&(resSol+="...\n",resExp+="...\n");var n,e=s.diffRow-s.excerptRow,t=s.displayedSolutionOutput.split("\n"),r=s.displayedExpectedOutput.split("\n");for(n=0;n<e;n++)resSol+=t[n]+"\n",resExp+=r[n]+"\n";var o=e<t.length?t[e]:"",a=s.diffCol-1;for(a<o.length?(resSol+=o.substring(0,a),resSol+='<span class="errorInLog">',resSol+=o.substring(a,a+1),resSol+="</span>",resSol+=o.substring(a+1)):(resSol+=o,resSol+='<span class="errorInLog">&nbsp;</span>'),resSol+="\n",resExp+=e<r.length?r[e]+"\n":"",n=e+1;n<t.length;n++)resSol+=n<t.length?t[n]+"\n":"";for(n=e+1;n<r.length;n++)resExp+=n<r.length?r[n]+"\n":"";return s.truncatedAfter&&(resSol+="... ",resExp+="... "),res=i.t("output_program")+"<br>\n",res+="<pre>"+resSol+"</pre>",res+=i.t("output_expected")+"<br>\n",res+="<pre>"+resExp+"</pre>",res+=i.t("output_help"),res}function a(s){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}s.submissionManager=submissionManager,s.submissionManager.initConstants(s),s.showSubmission=!0,s.showDetailsTests=!1,s.hasLoadedAnim=!1,s.hasAnimation="undefined"!=typeof taskSettings&&"undefined"!=typeof taskSettings.animationFeatures,SyncQueue.addSyncEndListeners("submissionController.apply",function(){if(s.submission){var n=s.initDetailsTests(s.submission);n!==-1&&(s.idShown=n),s.configureLogsError(s.submission.tests)}s.loading=!1,s.idShown!=-1&&s.submission&&s.submission.task_sScriptAnimation&&s.$broadcast("clickOnTest",[s.idShown])}),s.displayError=function(n){return(s.idTestToLog==-1||s.idTestToLog==n)&&(s.idTestToLog=n,!0)},s.nl2br=function(s){return(s+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2")},s.toTrust=function(s){return n.trustAsHtml(s)},s.countTestsSucceeded=function(n){for(var e=0,i=0;i<n.submissionTests.length;i++)n.submissionTests[i].iErrorCode==s.ERROR_NoError&&e++;return e},s.initDetailsTests=function(n){var i,t,r,o=-1;if(e.curSubmissionLang||""===e.curSubmissionLang?n.sourceLang=e.curSubmissionLang:n.sourceCode&&n.sourceCode.params&&n.sourceCode.params.sLangProg?n.sourceLang=n.sourceCode.params.sLangProg:n.sourceLang="","undefined"!=typeof taskSettings&&"undefined"!=typeof taskSettings.evaluationCallback&&taskSettings.evaluationCallback(n),n.submissionSubtasks&&n.submissionSubtasks.length>0){var a=n.submissionSubtasks;i=!1;for(var u=0;u<a.length;u++){var c=a[u];if(c.cached)i=!0;else{c.cached=[],c.cached.showDetailsTests=!1;var l=1/0,p=null;for(t=0;t<c.submissionTests.length;t++)r=c.submissionTests[t],r.cached={isShown:!1},"ok"==submissionManager.getStatusTest(r.iErrorCode)||i||(c.cached.showDetailsTests=!0,r.test_iRank<l&&(l=r.test_iRank,p=r));p&&(p.cached.isShown=!0,o=p.ID,i=!0)}}i||(a[0].cached.showDetailsTests=!0,a[0].submissionTests.length>0&&(a[0].submissionTests[0].cached.isShown=!0,o=a[0].submissionTests[0].ID))}if(0===s.submission.submissionSubtasks.length&&s.submission.tests.length>0){for(i=!1,t=0;t<n.tests.length;t++)r=n.tests[t],r.cached?i=!0:(r.cached={},"ok"==submissionManager.getStatusTest(r.iErrorCode)||i?r.cached.isShown=!1:(r.cached.isShown=!0,i=!0,o=r.ID));i||(n.tests[0].cached.isShown=!0,o=n.tests[0].ID)}return o},s.configureLogsError=function(n){for(var e=0;e<n.length;e++){var i=n[e];"error"!=submissionManager.getStatusTest(i.iErrorCode)&&"errorNoLog"!=submissionManager.getStatusTest(i.iErrorCode)||s.displayError(i.ID)}},s.getLog=function(s){var n=s.submission.task.displayChecker;if(n)return n(s);var e=s.sLog;if(!e)return"";var r=e.split(/\n\r|\r\n|\r|\n/),u=null;try{var c=JSON.parse(r.shift());u=o(c)}catch(l){}if(u){var p=r.join("\n");return p?i.t("evaluation_answer")+"<pre>"+a(p)+"</pre>"+u:u}return e&&"<"==e[0]?i.t("evaluation_answer")+"<br>"+t(e):i.t("evaluation_answer")+"<pre>"+a(e)+"</pre>"},s.hasSpecialTestOutput=function(s){if(s.iScore>0||!s.sErrorMsg)return!1;if("{"==s.sErrorMsg.substr(0,1))try{var n=JSON.parse(s.sErrorMsg);if(n.blockIds)return s.pyfeJson=n,"pyFrenchErrors"}catch(e){}return!1},s.displayPyfeBlocks=function(s){window.highlightBlocklyBlocks(s),$("html, body").animate({scrollTop:"0px"}),window.platform&&window.platform.updateDisplay({scrollTop:0})},s.round=function(s){return Math.round(s)},s.floor=function(s){return Math.floor(s)},s.minzero=function(s){return s<0?"0.00":s},s.firstCharDiff=function(s,n){for(var e="",i=!1,t=0;t<s.length;t++)s[t]==n[t]||i?e+=s[t]:(e+='<span class="charDiff">'+s[t]+"</span>",i=!0);return e},s.formatDate=function(s){var n=[];n.Jan="01",n.Feb="02",n.Mar="03",n.Apr="04",n.May="05",n.Jun="06",n.Jul="07",n.Aug="08",n.Sep="09",n.Oct="10",n.Nov="11",n.Dec="12",s=s.toString(),s=s.split(" ");var e=s[4].split(":"),i=s[2]+"/"+n[s[1]]+"/"+s[3]+" à "+e[0]+":"+e[1];return i},s.getImageAbsoluteUrl=function(s,n,e){return"http://data.france-ioi.org/"+s+"/"+n+"/"+e},s.toLog=function(s){console.log(s)},s.clickTest=function(n){s.displayOutputDetails=!1;var e=[n];s.$broadcast("clickOnTest",e)},s.displayOutput=function(){s.displayOutputDetails=!0}}]);var submissionManager={errorCode:{},initConstants:function(s){this.errorCode.ERROR_NoError=0,this.errorCode.ERROR_WrongAnswer=1,this.errorCode.ERROR_AbortError=6,this.errorCode.ERROR_BusError=7,this.errorCode.ERROR_FloatingPointException=8,this.errorCode.ERROR_SegFault=11,this.errorCode.ERROR_TimeLimitExceeded=137,this.errorCode.ERROR_TimeLimitExceededBis=9,this.errorCode.ERROR_WrongAnswerBis=2,this.errorCode.ERROR_ExecutionError=3,this.errorCode.ERROR_WrongAnswerCheck=4,this.errorCode.ERROR_StaticMemoryExceeded=10,this.errorCode.ERROR_BusError35=35,this.errorCode.ERROR_SegFault139=139,this.errorCode.ERROR_RelativeScore=150,s.ERROR_NoError=0,s.ERROR_WrongAnswer=1,s.ERROR_AbortError=6,s.ERROR_BusError=7,s.ERROR_FloatingPointException=8,s.ERROR_SegFault=11,s.ERROR_TimeLimitExceeded=137,s.ERROR_TimeLimitExceededBis=9,s.ERROR_WrongAnswerBis=2,s.ERROR_ExecutionError=3,s.ERROR_WrongAnswerCheck=4,s.ERROR_StaticMemoryExceeded=10,s.ERROR_BusError35=35,s.ERROR_SegFault139=139,s.ERROR_RelativeScore=150},countSubtasksSucceeded:function(s){for(var n=0,e=0;e<s.submissionSubtasks.length;e++)s.submissionSubtasks[e].bSuccess&&n++;return n},getDataTest:function(s){var n={status:"otherError",classToApply:"crash_test",classImage:"glyphicon glyphicon-fire image_crash_test"};switch(s){case this.errorCode.ERROR_NoError:n={status:"ok",classToApply:"succeed_test",classImage:"glyphicon glyphicon-ok image_succeed_test"};break;case this.errorCode.ERROR_WrongAnswer:case this.errorCode.ERROR_WrongAnswerBis:n={status:"error",classToApply:"error_test",classImage:"glyphicon glyphicon-remove image_error_test"};break;case this.errorCode.ERROR_WrongAnswerCheck:n={status:"errorNoLog",classToApply:"error_test",classImage:"glyphicon glyphicon-remove image_error_test"};break;case this.errorCode.ERROR_AbortError:n={status:"abort",classToApply:"crash_test",classImage:"glyphicon glyphicon-fire image_crash_test"};break;case this.errorCode.ERROR_BusError:case this.errorCode.ERROR_BusError35:n={status:"busError",classToApply:"crash_test",classImage:"glyphicon glyphicon-fire image_crash_test"};break;case this.errorCode.ERROR_FloatingPointException:n={status:"floatingPointException",classToApply:"crash_test",classImage:"glyphicon glyphicon-fire image_crash_test"};break;case this.errorCode.ERROR_SegFault:case this.errorCode.ERROR_StaticMemoryExceeded:case this.errorCode.ERROR_SegFault139:n={status:"memory",classToApply:"crash_test",classImage:"glyphicon glyphicon-fire image_crash_test"};break;case this.errorCode.ERROR_TimeLimitExceeded:case this.errorCode.ERROR_TimeLimitExceededBis:n={status:"timeout",classToApply:"timeout_test",classImage:"glyphicon glyphicon-time image_timeout_test"};break;case this.errorCode.ERROR_RelativeScore:n={status:"relative",classToApply:"relative_test",classImage:"glyphicon glyphicon-ok image_relative_test"}}return n},getStatusTest:function(s){return submissionManager.getDataTest(s).status},getClassTest:function(s){return submissionManager.getDataTest(s).classToApply},getClassImageTest:function(s){return submissionManager.getDataTest(s).classImage}};angular.module("submission-manager").run(["$templateCache",function(s){s.put("submission-manager/anim.html",'<div id="anim{{idtest}}">\n\t<div style="text-align:center">\n\t   <!-- The place to do the simulation -->\n\t   <div class="simuShow">\n\t   </div>\n\t   <!-- The place to display texte -->\n\t   <div class="simuMsg">   \n\t   </div>\n\t   <!-- Toolbar -->\n\t   <div class="simuToolbar">\n\t\t  <!--<input type="button" class="play" value="Exécuter tout" />\n\t\t  <input type="button" class="pause" value="Exécuter une étape" />\n\t\t  <input type="button" class="restart" value="Recommencer" />-->\n        <button href="#" class="play btn btn-default" ng-i18next="player_play"></button>\n        <button href="#" class="pause btn btn-default" ng-i18next="player_playpause"></button>\n        <button href="#" class="restart btn btn-default" ng-i18next="player_restart"></button>\n\t   </div>\n\t   <pre class="textOutput" style="display:none;background:#C0C0C0;text-align:left">\n\t   </pre>\n\t</div>\n</div>\n'),s.put("submission-manager/header_template.html",'<div class="submission" ng-if="!loading">\n   <span class="submission_span submission_info">\n      <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate image_loading checkImage" ng-show="!submission.bEvaluated"></span>\n      <span class="glyphicon glyphicon-ok image_succeed_task checkImage" ng-show="submission.bEvaluated && submission.bSuccess"></span>\n      <span class="glyphicon glyphicon-remove image_failure_task checkImage" ng-show="submission.bEvaluated && !submission.bSuccess"></span>\n      <span ng-show="submission.bEvaluated">\n         <span ng-i18next="submission_submission"></span>\n         <span ng-show="submission.sourceLang"><span ng-i18next="submission_lang"></span> {{submission.sourceLang}}</span>\n         <span ng-i18next="submission_date"></span> {{submission.sDate | date:\'short\' }}\n      </span>\n      <span ng-show="!submission.bEvaluated" ng-i18next="submission_evaluation">\n      </span>\n   </span>\n\n   <span class="submission_span submission_data"> <!-- centered data -->\n   </span>\n   <span class="submission_span score" ng-if="submission.bEvaluated"><span ng-i18next="submission_score"></span> {{submission.iScore}} %</span>\n   <span class="submission_span score" ng-if="!submission.bEvaluated" ng-i18next="submission_evaluation"></span>\n\n   <br>\n\n   <span class="submission_details" ng-if="submission.bEvaluated">\n      <span ng-if="submission.submissionSubtasks.length > 0"><span ng-i18next="submission_validated_subtasks"></span> {{submissionManager.countSubtasksSucceeded(submission)}} / {{submission.submissionSubtasks.length}}</span>\n      <span ng-if="submission.submissionSubtasks.length == 0"><span ng-i18next="submission_validated_tests"></span> {{submission.nbTestsPassed}} / {{submission.nbTestsTotal}}</span>\n      &nbsp;&nbsp;\n      <span class="submission_min_test disp_min" ng-if="!submission.submissionSubtasks" ng-repeat="curTest in submission.tests" ng-include src="\'submission-manager/view_test_min.html\'"></span>\n      <span class="submission_min_test" ng-if="submission.submissionSubtasks" ng-repeat="submissionSubtask in submission.submissionSubtasks">\n        <span ng-repeat="curTest in submissionSubtask.submissionTests" ng-include src="\'submission-manager/view_test_min.html\'"  class="disp_min"></span>\n        &nbsp;&nbsp;\n      </span>\n   </span>\n </div>\n'),s.put("submission-manager/image_test.html",'<span ng-if="curTest.iScore == 0 || curTest.iScore == 100" class="{{submissionManager.getClassImageTest(curTest.iErrorCode)}}"></span>\n<span ng-if="!(curTest.iScore == 0 || curTest.iScore == 100)" class="{{submissionManager.getClassImageTest(ERROR_RelativeScore)}}"></span>\n'),s.put("submission-manager/submission.html",'<div class="submission_global">\n   <div ng-if="submission != undefined" ng-hide="loading">\n      <uib-accordion close-others="false">\n         <uib-accordion-group is-open="showSubmission">\n            <uib-accordion-heading>\n               <div ng-include src="\'submission-manager/header_template.html\'"></div>\n            </uib-accordion-heading>\n            <div ng-show="submission.sMode == \'UserTest\'" class="alert alert-warning"><b ng-i18next="submission_usertest_warning"></b></div>\n            <div ng-if="submission != undefined && !submission.bEvaluated && !loading" class="submission_global">\n               <div class="submission_error">\n                  <p ng-i18next="submission_evaluation_description"></p>\n               </div>\n            </div>\n            <div ng-if="submission.bEvaluated">\n               <div ng-show="submission.bCompilError" class="submission_error">\n                  <div ng-if="submission.sCompilMsg">\n                      <strong ng-i18next="submission_error_compilation"></strong><br />\n                      <pre>{{submission.sCompilMsg}}</pre>\n                  </div>\n                  <div ng-if="!submission.sCompilMsg">\n                      <strong ng-i18next="submission_error_execution"></strong><br />\n                      <pre>{{submission.sErrorMsg}}</pre>\n                  </div>\n               </div>\n\n               <div ng-show="!(submission.tests.length > 0) && !submission.bCompilError && submission.bEvaluated" class="submission_error">\n                  <p ng-i18next="submission_notests"></p>\n               </div>\n               <div ng-hide="!submission.bEvaluated || submission.bCompilError" ng-if="submission.tests.length > 0">\n                  <div ng-if="submission.sCompilMsg.length > 0" class="compil_error">\n                     <span ng-i18next="submission_compilation_output"></span>\n                     <pre>{{submission.sCompilMsg}}</pre>\n                  </div>\n                  <div ng-if="submission.submissionSubtasks.length > 0">\n                     <uib-accordion close-others="true">\n                        <uib-accordion-group ng-repeat="submissionSubtask in submission.submissionSubtasks" class="subtask_global" is-open="submissionSubtask.cached.showDetailsTests">\n                           <div ng-include src="\'submission-manager/view_subtask.html\'"></div>\n                        </uib-accordion-group>\n                     </uib-accordion>\n                  </div>\n                  <div class="test" ng-if="submission.submissionSubtasks.length == 0">\n                     <uib-accordion close-others="true">\n                        <uib-accordion-group ng-repeat="curTest in submission.tests | orderBy : curTest.iRank" is-open="curTest.cached.isShown">\n                           <div ng-include src="\'submission-manager/view_test.html\'"></div>\n                        </uib-accordion-group>\n                     </uib-accordion>\n                  </div>\n               </div> <!-- End tests -->\n            </div>\n         </uib-accordion-group>\n      </uib-accordion>\n   </div> <!-- End submission details -->\n</div> <!-- End submission -->\n'),s.put("submission-manager/view_subtask.html",'<uib-accordion-heading>\n   <div class="subtask">\n      <span class="subtask_name">\n         <span class="glyphicon glyphicon-ok image_succeed_subtask" ng-show="submissionSubtask.bSuccess"></span>\n         <span class="glyphicon glyphicon-remove image_failure_subtask" ng-show="!submissionSubtask.bSuccess"></span>\n         {{submissionSubtask.subtask_name}}\n      </span>\n\n      <span class="subtask_data">\n         <span>\n            <span ng-i18next="submission_validated_tests"></span> {{countTestsSucceeded(submissionSubtask)}} / {{submissionSubtask.submissionTests.length}}\n            <span class="subtask_min_test">\n               <span ng-repeat="curTest in submissionSubtask.submissionTests" ng-include src="\'submission-manager/view_test_min.html\'"  class="disp_min"></span>\n            </span>\n         </span>\n      </span>\n\n      <span class="score">\n         <span ng-i18next="submission_score"></span> {{submissionSubtask.iScore}} / {{submissionSubtask.subtask_iPointsMax}}\n      </span>\n   </div>\n</uib-accordion-heading>\n\n<div class="test">\n   <uib-accordion close-others="true">\n      <uib-accordion-group ng-repeat="curTest in submissionSubtask.submissionTests | orderBy:\'test_iRank\'" is-open="curTest.cached.isShown">\n         <div ng-include src="\'submission-manager/view_test.html\'"></div>\n      </uib-accordion-group>\n   </uib-accordion>\n</div>\n'),s.put("submission-manager/view_test.html",'<uib-accordion-heading>\n   <p ng-click="clickTest(curTest.ID)" ng-if="curTest.iScore > 0 && curTest.iScore < 100" class="heading_test"> <!-- i.e relative score -->\n      <span class="idTest">\n         <span ng-include src="\'submission-manager/image_test.html\'" class="imageTest"></span>\n         <span ng-if="curTest.test_sGroupType == \'Evaluation\'"><span ng-i18next="submission_test_number"></span>{{$index+1}} &nbsp; &nbsp;</span>\n         <span ng-if="curTest.test_sGroupType !== \'Evaluation\'">{{curTest.test_sName}} &nbsp; &nbsp;</span>\n      </span>\n      <span class="resultTest {{submissionManager.getClassTest(ERROR_RelativeScore)}}">\n         <span ng-i18next="submission_score_partial"></span> {{curTest.iScore}}% <span ng-i18next="submission_score_partial_in"></span> {{minzero(floor(curTest.iTimeMs/10)/100)}} s\n      </span>\n   </p>\n   <p ng-click="clickTest(curTest.ID)" ng-if="!(curTest.iScore > 0 && curTest.iScore < 100)" ng-switch="submissionManager.getStatusTest(curTest.iErrorCode)" class="heading_test">\n      <span class="idTest">\n         <span ng-include src="\'submission-manager/image_test.html\'" class="imageTest"></span>\n         <span ng-if="curTest.test_sGroupType == \'Evaluation\'"><span ng-i18next="submission_test_number"></span>{{$index+1}} &nbsp; &nbsp;</span>\n         <span ng-if="curTest.test_sGroupType !== \'Evaluation\'">{{curTest.test_sName}} &nbsp; &nbsp;</span>\n      </span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="ok">\n        <span ng-i18next="submission_result_correct"></span> {{minzero(floor(curTest.iTimeMs/10)/100)}} s\n      </span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="error">\n        <span ng-i18next="submission_result_wrong"></span> {{minzero(floor(curTest.iTimeMs/10)/100)}} s\n      </span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="errorNoLog" ng-i18next="submission_result_nolog"></span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="abort" ng-i18next="submission_result_abort"></span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="busError" ng-i18next="submission_result_buserror"></span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="floatingPointExpression" ng-i18next="submission_result_floating"></span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="memory" ng-i18next="submission_result_memory"></span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="timeout" ng-i18next="submission_result_timeout"></span>\n      <span class="resultTest {{submissionManager.getClassTest(curTest.iErrorCode)}}" ng-switch-when="otherError" ng-i18next="submission_result_other"></span>\n   </p>\n\n</uib-accordion-heading>\n<!--<td ng-switch="curTest.iErrorCode">-->\n\n<div ng-if="curTest.iScore > 0 && curTest.iScore < 100" class="output"> <!-- i.e relative score -->\n   <span ng-i18next="submission_score_partial_description"></span>\n   <div ng-if="(curTest.sLog || curTest.jFiles) && !hasAnimation">\n      <div ng-bind-html="toTrust(getLog(curTest))"></div>\n   </div>\n</div>\n\n<div ng-if="curTest.sLog != \'\' && hasAnimation" class="output" animation commands="curTest.sLog" idtest="curTest.ID"></div>\n\n<div ng-switch="hasSpecialTestOutput(curTest)">\n    <span ng-switch-when="pyFrenchErrors">\n        <p><span ng-i18next="submission_pyfe_message"></span> {{ curTest.pyfeJson.messageId }}.</p>\n        <button class="btn btn-primary" ng-click="displayPyfeBlocks(curTest.pyfeJson.blockIds)" ng-i18next="submission_pyfe_view_blocks"></button>\n        <hr>\n        <p style="white-space: pre-wrap;">{{ curTest.pyfeJson.text }}</p>\n        <p ng-i18next="submission_pyfe_error"></p>\n        <pre>{{ curTest.pyfeJson.stderr }}</pre>\n    </span>\n</div>\n\n<div ng-if="!hasSpecialTestOutput(curTest) && !(curTest.iScore > 0 && curTest.iScore < 100) && !(curTest.sOutput != \'\' && hasLoadedAnimation)" class="output">\n   <div ng-switch="submissionManager.getStatusTest(curTest.iErrorCode)">\n      <span ng-switch-when="ok" ng-i18next="submission_congratulations"></span>\n      <span ng-switch-when="error">\n         <span ng-if="displayError(curTest.ID) && curTest.sOutput.length == 0"> <!-- We use datas in tm_submissions to display log errors if there\'s nothing in tm_submissions_tests -->\n            <span ng-i18next="submission_display_program"></span><br/>\n            <pre class="log">{{submission.sFirstUserOutput}}</pre>\n\n            <span ng-i18next="submission_display_expected"></span><br/>\n            <pre class="log">{{submission.sFirstExpectedOutput}}</pre>\n\n            <span ng-show="curTest.iErrorCode == ERROR_WrongAnswer"> <!-- diff shall not be shown when iErrorCode = ERROR_WrongAnswerBis -->\n               <span ng-i18next="submission_display_firstdiff"></span><br />\n               <pre class="log" ng-bind-html="toTrust(firstCharDiff(submission.sFirstUserOutput, submission.sFirstExpectedOutput))"></pre>\n            </span>\n         </span>\n         <span ng-if="displayError(curTest.ID) && curTest.sOutput.length > 0"> <!-- Otherwise, we use datas in tm_submissions_tests -->\n            <span ng-i18next="submission_display_program"></span><br/>\n            <pre class="log">{{curTest.sOutput}}</pre>\n\n            <span ng-i18next="submission_display_expected"></span><br/>\n            <pre class="log">{{curTest.sExpectedOutput}}</pre>\n            <span ng-show="curTest.iErrorCode == ERROR_WrongAnswer"> <!-- diff shall not be shown when iErrorCode = ERROR_WrongAnswerBis -->\n               <span ng-i18next="submission_display_firstdiff"></span><br />\n               <pre class="log" ng-bind-html="toTrust(firstCharDiff(curTest.sOutput, curTest.sExpectedOutput))"></pre>\n            </span>\n         </span>\n         <span ng-if="!displayError(curTest.ID) && !curTest.sLog && !curTest.jFiles && !curTest.sErrorMsg">\n            <span ng-i18next="submission_display_nolog_errorcode"></span> {{ curTest.iErrorCode }}.\n            <span ng-i18next="submission_display_nolog"></span>\n         </span>\n      </span>\n      <span ng-switch-when="errorNoLog">\n         <pre ng-show="displayError(curTest.ID) && curTest.sOutput.length > 0" class="log">{{curTest.sOutput}}</pre>\n      </span>\n      <span ng-switch-when="abort" ng-i18next="submission_result_abort_description"></span>\n      <span ng-switch-when="busError" ng-i18next="submission_result_buserror_description"></span>\n      <span ng-switch-when="floatingPointException" ng-i18next="submission_result_floating_description"></span>\n      <span ng-switch-when="memory">\n         <span ng-i18next="submission_result_memory_description"></span>\n         <ul>\n            <li ng-i18next="submission_result_memory_description_reason1"></li>\n            <li ng-i18next="submission_result_memory_description_reason2"></li>\n         </ul>\n      </span>\n      <span ng-switch-when="timeout">\n         <span ng-i18next="submission_result_timeout_description"></span>\n         <ul>\n            <li ng-i18next="submission_result_timeout_description_reason1"></li>\n            <li ng-i18next="submission_result_timeout_description_reason2"></li>\n         </ul>\n      </span>\n      <span ng-switch-when="otherError" ng-i18next="submission_result_other_description"></span>\n      <span ng-switch-default ng-i18next="submission_result_default_description"></span>\n   </div>\n   <div ng-if="curTest.bNoFeedback">\n      <span ng-i18next="submission_no_feedback"></span>\n   </div>\n   <div ng-if="curTest.sErrorMsg && !curTest.bNoFeedback && (submissionManager.getStatusTest(curTest.iErrorCode) == \'error\' || submissionManager.getStatusTest(curTest.iErrorCode) == \'otherError\')">\n      <span ng-i18next="submission_program_error"></span>\n      <pre>{{curTest.sErrorMsg}}</pre>\n   </div>\n   <div ng-if="(curTest.sLog || curTest.jFiles) && !curTest.bNoFeedback && !hasAnimation">\n      <div ng-bind-html="toTrust(getLog(curTest))"></div>\n   </div>\n</div>\n\n<div ng-if="curTest.submission.sMode == \'UserTest\'">\n    <a ng-click="displayOutput()" ng-i18next="submission_program_full_output_display" ng-hide="displayOutputDetails"></a>\n    <span ng-show="displayOutputDetails" ng-i18next="submission_program_full_output"></span>\n    <pre ng-show="displayOutputDetails">{{curTest.sOutput}}</pre>\n</div>\n'),s.put("submission-manager/view_test_min.html",'<span ng-if="curTest.iScore == 0 || curTest.iScore == 100" class="imageTest" ng-class="submissionManager.getClassImageTest(curTest.iErrorCode)"></span>\n<span ng-if="!(curTest.iScore == 0 || curTest.iScore == 100)" class="imageTest" ng-class="submissionManager.getClassImageTest(ERROR_RelativeScore)"></span>\n')}]);
//# sourceMappingURL=submission-manager.min.js.map
